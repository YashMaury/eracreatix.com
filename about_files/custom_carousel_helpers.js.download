class CustomCarousel extends HTMLElement{constructor(){super(),this.sliderContainer=this.querySelector(".custom_slider_container"),this.sliderItems=this.querySelectorAll(".custom_slider_item"),this.viewportContainer=this.querySelector(".custom_slider_viewport"),this.sliderDotsContainer=this.querySelector(".custom_slider_dots"),this.isInfinite=this.getAttribute("enableInfinite");const singleWidthInPercentDt=this.sliderItems[0].getAttribute("data-width-percent-single-dt"),singleWidthInPercentMb=this.sliderItems[0].getAttribute("data-width-percent-single-mb")||singleWidthInPercentDt;this.divider=1,(singleWidthInPercentDt>0||singleWidthInPercentMb>0)&&(window.innerWidth>750?this.divider=100/singleWidthInPercentDt||1:this.divider=100/singleWidthInPercentMb||1),this.numberOfDots=Math.ceil(this.sliderItems.length/this.divider),this.initCarousel()}initCarousel(){this.setCarouselHeight(),this.createSliderDots(),this.handleCarouselSwipe(),this.handleCarouselArrowClicks()}setCarouselHeight(){let maxHeight=0;this.sliderItems.forEach((item,index)=>{let height=item.offsetHeight;height>maxHeight&&(maxHeight=height)}),this.viewportContainer.style.height=maxHeight+"px"}createSliderDots(){const self=this;this.numberOfDots<2&&(this.sliderDotsContainer.style.display="none");for(let i=0;i<this.numberOfDots;i++){let div=document.createElement("div");div.dataset.index=i,div.classList.add("slider_dot"),i==0&&div.classList.add("dot-selected"),div.onclick=function(){let selectedDot=self.sliderDotsContainer.querySelector(".slider_dot.dot-selected");selectedDot&&selectedDot.classList.remove("dot-selected"),this.classList.add("dot-selected");let translateAmount=0;if(i==self.numberOfDots-1&&self.sliderItems.length%self.divider>0){let remTranslate=self.sliderItems.length%self.divider*100/self.divider;translateAmount=(i-1)*-100-remTranslate}else translateAmount=i*-100;self.sliderContainer.style.transform=`translateX(${translateAmount}%)`},this.sliderDotsContainer.appendChild(div)}}handleCarouselSwipe(){let self=this,touchStartX=0,touchEndX=0,swipeThreshold=50;this.viewportContainer.addEventListener("touchstart",function(event){touchStartX=event.touches[0].clientX}),this.viewportContainer.addEventListener("touchend",function(event){touchEndX=event.changedTouches[0].clientX,handleSwipe()});function handleSwipe(){let swipeDistance=touchEndX-touchStartX;if(Math.abs(swipeDistance)>=swipeThreshold)if(swipeDistance>0){let currentDotIndex=Math.max(0,self.sliderDotsContainer.querySelector(".slider_dot.dot-selected").dataset.index-1);self.sliderDotsContainer.querySelector(`.slider_dot[data-index='${currentDotIndex}']`).click()}else{let currentDotIndex=Math.min(self.numberOfDots-1,parseInt(self.sliderDotsContainer.querySelector(".slider_dot.dot-selected").dataset.index)+1);self.sliderDotsContainer.querySelector(`.slider_dot[data-index='${currentDotIndex}']`).click()}}}handleArrowClick(direction){let currentDotIndex=parseInt(this.sliderDotsContainer.querySelector(".slider_dot.dot-selected").dataset.index),targetIndex;if(this.isInfinite==="true"){direction==="left"?targetIndex=currentDotIndex===0?this.numberOfDots-1:currentDotIndex-1:direction==="right"&&(targetIndex=(currentDotIndex+1)%this.numberOfDots),this.sliderDotsContainer.querySelector(`.slider_dot[data-index='${targetIndex}']`).click();let sliderContainer=this.sliderContainer,sliderItems=this.sliderItems;direction==="left"?sliderContainer.insertBefore(sliderItems[sliderItems.length-1],sliderItems[0]):direction==="right"&&sliderContainer.appendChild(sliderItems[0])}else if(direction==="left"){let currentDotIndex2=Math.max(0,this.sliderDotsContainer.querySelector(".slider_dot.dot-selected").dataset.index-1);this.sliderDotsContainer.querySelector(`.slider_dot[data-index='${currentDotIndex2}']`).click()}else if(direction==="right"){let currentDotIndex2=Math.min(this.numberOfDots-1,parseInt(this.sliderDotsContainer.querySelector(".slider_dot.dot-selected").dataset.index)+1);this.sliderDotsContainer.querySelector(`.slider_dot[data-index='${currentDotIndex2}']`).click()}}handleCarouselArrowClicks(){let self=this,leftArrow=document.getElementById("leftArrow"),rightArrow=document.getElementById("rightArrow");leftArrow.addEventListener("click",function(event){self.handleArrowClick("left")}),rightArrow.addEventListener("click",function(event){self.handleArrowClick("right")})}}customElements.define("custom-carousel",CustomCarousel);class StepCarousel extends HTMLElement{constructor(){super();const sliderContainer=this.querySelector(".main_content_wrapper"),sliderLeftArrow=this.querySelector(".container-icon-back"),sliderRightArrow=this.querySelector(".container-icon-next"),sliderScrollStep=this.getAttribute("data-scrollStep");sliderLeftArrow.style.opacity="0",sliderContainer.addEventListener("scroll",()=>{sliderContainer.scrollLeft===0?sliderLeftArrow.style.opacity="0":sliderLeftArrow.style.opacity="1",sliderContainer.scrollLeft+sliderContainer.clientWidth>=sliderContainer.scrollWidth?sliderRightArrow.style.opacity="0":sliderRightArrow.style.opacity="1"}),sliderLeftArrow.addEventListener("click",function(){sliderContainer.scrollBy({left:-sliderScrollStep,behavior:"smooth"})}),sliderRightArrow.addEventListener("click",function(){sliderContainer.scrollBy({left:sliderScrollStep,behavior:"smooth"})}),sliderContainer.scrollWidth>sliderContainer.clientWidth?(sliderLeftArrow.style.display="block",sliderRightArrow.style.display="block"):(sliderLeftArrow.style.display="none",sliderRightArrow.style.display="none")}}customElements.define("step-carousel",StepCarousel);class CyclicCarousel extends HTMLElement{constructor(){super();const wrapper=this.querySelector(".wrapper");if(wrapper){let isDragging=wrapper.getAttribute("data-isDragging"),isAutoPlay=wrapper.getAttribute("data-isAutoPlay"),groupingDt=wrapper.getAttribute("data-product-grouping-dt"),groupingMb=wrapper.getAttribute("data-product-grouping-mb");initCyclicCarousel(wrapper,isDragging,isAutoPlay,groupingDt,groupingMb)}}}customElements.define("cyclic-carousel",CyclicCarousel);
//# sourceMappingURL=/cdn/shop/t/674/assets/custom_carousel_helpers.js.map?v=22528533119718737201715570764
