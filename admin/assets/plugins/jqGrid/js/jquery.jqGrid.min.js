/* 
* jqGrid  4.4.3 - jQuery Grid 
* Copyright (c) 2008, Tony Tomov, tony@trirand.com 
* Dual licensed under the MIT and GPL licenses 
* http://www.opensource.org/licenses/mit-license.php 
* http://www.gnu.org/licenses/gpl-2.0.html 
* Date:2013-01-23 
* Modules: grid.base.js; jquery.fmatter.js; grid.custom.js; grid.common.js; grid.formedit.js; grid.filter.js; grid.inlinedit.js; grid.celledit.js; jqModal.js; jqDnR.js; grid.subgrid.js; grid.grouping.js; grid.treegrid.js; grid.import.js; JsonXml.js; grid.tbltogrid.js; grid.jqueryui.js; 
*/
(function(b){b.jgrid=b.jgrid||{};b.extend(b.jgrid,{version:"4.4.3",htmlDecode:function(b){return b&&("&nbsp;"==b||"&#160;"==b||1===b.length&&160===b.charCodeAt(0))?"":!b?b:(""+b).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},htmlEncode:function(b){return!b?b:(""+b).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},format:function(f){var e=b.makeArray(arguments).slice(1);null==f&&(f="");return f.replace(/\{(\d+)\}/g,function(b,
d){return e[d]})},getCellIndex:function(f){f=b(f);if(f.is("tr"))return-1;f=(!f.is("td")&&!f.is("th")?f.closest("td,th"):f)[0];return b.browser.msie?b.inArray(f,f.parentNode.cells):f.cellIndex},stripHtml:function(b){var b=""+b,e=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return b?(b=b.replace(e,""))&&"&nbsp;"!==b&&"&#160;"!==b?b.replace(/\"/g,"'"):"":b},stripPref:function(f,e){var c=b.type(f);if("string"==c||"number"==c)f=""+f,e=""!==f?(""+e).replace(""+f,""):e;return e},stringToDoc:function(b){var e;if("string"!==
typeof b)return b;try{e=(new DOMParser).parseFromString(b,"text/xml")}catch(c){e=new ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(b)}return e&&e.documentElement&&"parsererror"!=e.documentElement.tagName?e:null},parse:function(f){"while(1);"==f.substr(0,9)&&(f=f.substr(9));"/*"==f.substr(0,2)&&(f=f.substr(2,f.length-4));f||(f="{}");return!0===b.jgrid.useJSON&&"object"===typeof JSON&&"function"===typeof JSON.parse?JSON.parse(f):eval("("+f+")")},parseDate:function(f,e){var c={m:1,d:1,y:1970,
h:0,i:0,s:0,u:0},d,a,i;d=/[\\\/:_;.,\t\T\s-]/;if(e&&null!=e){e=b.trim(e);e=e.split(d);void 0!==b.jgrid.formatter.date.masks[f]&&(f=b.jgrid.formatter.date.masks[f]);var f=f.split(d),h=b.jgrid.formatter.date.monthNames,g=b.jgrid.formatter.date.AmPm,j=function(a,b){0===a?12===b&&(b=0):12!==b&&(b+=12);return b};d=0;for(a=f.length;d<a;d++)"M"==f[d]&&(i=b.inArray(e[d],h),-1!==i&&12>i&&(e[d]=i+1,c.m=e[d])),"F"==f[d]&&(i=b.inArray(e[d],h),-1!==i&&11<i&&(e[d]=i+1-12,c.m=e[d])),"a"==f[d]&&(i=b.inArray(e[d],
g),-1!==i&&2>i&&e[d]==g[i]&&(e[d]=i,c.h=j(e[d],c.h))),"A"==f[d]&&(i=b.inArray(e[d],g),-1!==i&&1<i&&e[d]==g[i]&&(e[d]=i-2,c.h=j(e[d],c.h))),"g"===f[d]&&(c.h=parseInt(e[d],10)),void 0!==e[d]&&(c[f[d].toLowerCase()]=parseInt(e[d],10));c.m=parseInt(c.m,10)-1;d=c.y;70<=d&&99>=d?c.y=1900+c.y:0<=d&&69>=d&&(c.y=2E3+c.y);void 0!==c.j&&(c.d=c.j);void 0!==c.n&&(c.m=parseInt(c.n,10)-1)}return new Date(c.y,c.m,c.d,c.h,c.i,c.s,c.u)},jqID:function(b){return(""+b).replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]\^`{|}~]/g,
"\\$&")},guid:1,uidPref:"jqg",randId:function(f){return(f||b.jgrid.uidPref)+b.jgrid.guid++},getAccessor:function(b,e){var c,d,a=[],i;if("function"===typeof e)return e(b);c=b[e];if(void 0===c)try{if("string"===typeof e&&(a=e.split(".")),i=a.length)for(c=b;c&&i--;)d=a.shift(),c=c[d]}catch(h){}return c},getXmlData:function(f,e,c){var d="string"===typeof e?e.match(/^(.*)\[(\w+)\]$/):null;if("function"===typeof e)return e(f);if(d&&d[2])return d[1]?b(d[1],f).attr(d[2]):b(f).attr(d[2]);f=b(e,f);return c?
f:0<f.length?b(f).text():void 0},cellWidth:function(){var f=b("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;'></td></tr></table></div>"),e=f.appendTo("body").find("td").width();f.remove();return 5!==e},cell_width:!0,ajaxOptions:{},from:function(f){return new function(e,c){"string"===typeof e&&(e=b.data(e));var d=this,a=e,i=!0,f=!1,g=c,j=/[\$,%]/g,k=null,m=null,n=0,s=!1,l="",x=[],v=!0;if("object"===typeof e&&
e.push)0<e.length&&(v="object"!==typeof e[0]?!1:!0);else throw"data provides is not an array";this._hasData=function(){return null===a?!1:0===a.length?!1:!0};this._getStr=function(a){var b=[];f&&b.push("jQuery.trim(");b.push("String("+a+")");f&&b.push(")");i||b.push(".toLowerCase()");return b.join("")};this._strComp=function(a){return"string"===typeof a?".toString()":""};this._group=function(a,b){return{field:a.toString(),unique:b,items:[]}};this._toStr=function(a){f&&(a=b.trim(a));a=a.toString().replace(/\\/g,
"\\\\").replace(/\"/g,'\\"');return i?a:a.toLowerCase()};this._funcLoop=function(d){var c=[];b.each(a,function(a,b){c.push(d(b))});return c};this._append=function(a){var b;g=null===g?"":g+(""===l?" && ":l);for(b=0;b<n;b++)g+="(";s&&(g+="!");g+="("+a+")";s=!1;l="";n=0};this._setCommand=function(a,b){k=a;m=b};this._resetNegate=function(){s=!1};this._repeatCommand=function(a,b){return null===k?d:null!==a&&null!==b?k(a,b):null===m||!v?k(a):k(m,a)};this._equals=function(a,b){return 0===d._compare(a,b,
1)};this._compare=function(a,b,d){var c=Object.prototype.toString;void 0===d&&(d=1);void 0===a&&(a=null);void 0===b&&(b=null);if(null===a&&null===b)return 0;if(null===a&&null!==b)return 1;if(null!==a&&null===b)return-1;if("[object Date]"===c.call(a)&&"[object Date]"===c.call(b))return a<b?-d:a>b?d:0;!i&&"number"!==typeof a&&"number"!==typeof b&&(a=""+a,b=""+b);return a<b?-d:a>b?d:0};this._performSort=function(){0!==x.length&&(a=d._doSort(a,0))};this._doSort=function(a,b){var c=x[b].by,f=x[b].dir,
i=x[b].type,e=x[b].datefmt;if(b==x.length-1)return d._getOrder(a,c,f,i,e);b++;for(var c=d._getGroup(a,c,f,i,e),f=[],h,i=0;i<c.length;i++){h=d._doSort(c[i].items,b);for(e=0;e<h.length;e++)f.push(h[e])}return f};this._getOrder=function(a,c,f,e,h){var g=[],k=[],m="a"==f?1:-1,n,s;void 0===e&&(e="text");s="float"==e||"number"==e||"currency"==e||"numeric"==e?function(a){a=parseFloat((""+a).replace(j,""));return isNaN(a)?0:a}:"int"==e||"integer"==e?function(a){return a?parseFloat((""+a).replace(j,"")):0}:
"date"==e||"datetime"==e?function(a){return b.jgrid.parseDate(h,a).getTime()}:b.isFunction(e)?e:function(a){a=a?b.trim(""+a):"";return i?a:a.toLowerCase()};b.each(a,function(a,d){n=""!==c?b.jgrid.getAccessor(d,c):d;void 0===n&&(n="");n=s(n,d);k.push({vSort:n,index:a})});k.sort(function(a,b){a=a.vSort;b=b.vSort;return d._compare(a,b,m)});for(var e=0,l=a.length;e<l;)f=k[e].index,g.push(a[f]),e++;return g};this._getGroup=function(a,c,e,f,i){var h=[],g=null,j=null,k;b.each(d._getOrder(a,c,e,f,i),function(a,
e){k=b.jgrid.getAccessor(e,c);null==k&&(k="");d._equals(j,k)||(j=k,null!==g&&h.push(g),g=d._group(c,k));g.items.push(e)});null!==g&&h.push(g);return h};this.ignoreCase=function(){i=!1;return d};this.useCase=function(){i=!0;return d};this.trim=function(){f=!0;return d};this.noTrim=function(){f=!1;return d};this.execute=function(){var c=g,e=[];if(null===c)return d;b.each(a,function(){eval(c)&&e.push(this)});a=e;return d};this.data=function(){return a};this.select=function(c){d._performSort();if(!d._hasData())return[];
d.execute();if(b.isFunction(c)){var e=[];b.each(a,function(a,b){e.push(c(b))});return e}return a};this.hasMatch=function(){if(!d._hasData())return!1;d.execute();return 0<a.length};this.andNot=function(a,b,c){s=!s;return d.and(a,b,c)};this.orNot=function(a,b,c){s=!s;return d.or(a,b,c)};this.not=function(a,b,c){return d.andNot(a,b,c)};this.and=function(a,b,c){l=" && ";return void 0===a?d:d._repeatCommand(a,b,c)};this.or=function(a,b,c){l=" || ";return void 0===a?d:d._repeatCommand(a,b,c)};this.orBegin=
function(){n++;return d};this.orEnd=function(){null!==g&&(g+=")");return d};this.isNot=function(a){s=!s;return d.is(a)};this.is=function(a){d._append("this."+a);d._resetNegate();return d};this._compareValues=function(a,c,e,f,i){var h;h=v?"jQuery.jgrid.getAccessor(this,'"+c+"')":"this";void 0===e&&(e=null);var g=e,k=void 0===i.stype?"text":i.stype;if(null!==e)switch(k){case "int":case "integer":g=isNaN(Number(g))||""===g?"0":g;h="parseInt("+h+",10)";g="parseInt("+g+",10)";break;case "float":case "number":case "numeric":g=
(""+g).replace(j,"");g=isNaN(Number(g))||""===g?"0":g;h="parseFloat("+h+")";g="parseFloat("+g+")";break;case "date":case "datetime":g=""+b.jgrid.parseDate(i.newfmt||"Y-m-d",g).getTime();h='jQuery.jgrid.parseDate("'+i.srcfmt+'",'+h+").getTime()";break;default:h=d._getStr(h),g=d._getStr('"'+d._toStr(g)+'"')}d._append(h+" "+f+" "+g);d._setCommand(a,c);d._resetNegate();return d};this.equals=function(a,b,c){return d._compareValues(d.equals,a,b,"==",c)};this.notEquals=function(a,b,c){return d._compareValues(d.equals,
a,b,"!==",c)};this.isNull=function(a,b,c){return d._compareValues(d.equals,a,null,"===",c)};this.greater=function(a,b,c){return d._compareValues(d.greater,a,b,">",c)};this.less=function(a,b,c){return d._compareValues(d.less,a,b,"<",c)};this.greaterOrEquals=function(a,b,c){return d._compareValues(d.greaterOrEquals,a,b,">=",c)};this.lessOrEquals=function(a,b,c){return d._compareValues(d.lessOrEquals,a,b,"<=",c)};this.startsWith=function(a,c){var e=null==c?a:c,e=f?b.trim(e.toString()).length:e.toString().length;
v?d._append(d._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr(0,"+e+") == "+d._getStr('"'+d._toStr(c)+'"')):(e=f?b.trim(c.toString()).length:c.toString().length,d._append(d._getStr("this")+".substr(0,"+e+") == "+d._getStr('"'+d._toStr(a)+'"')));d._setCommand(d.startsWith,a);d._resetNegate();return d};this.endsWith=function(a,c){var e=null==c?a:c,e=f?b.trim(e.toString()).length:e.toString().length;v?d._append(d._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr("+d._getStr("jQuery.jgrid.getAccessor(this,'"+
a+"')")+".length-"+e+","+e+') == "'+d._toStr(c)+'"'):d._append(d._getStr("this")+".substr("+d._getStr("this")+'.length-"'+d._toStr(a)+'".length,"'+d._toStr(a)+'".length) == "'+d._toStr(a)+'"');d._setCommand(d.endsWith,a);d._resetNegate();return d};this.contains=function(a,b){v?d._append(d._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+d._toStr(b)+'",0) > -1'):d._append(d._getStr("this")+'.indexOf("'+d._toStr(a)+'",0) > -1');d._setCommand(d.contains,a);d._resetNegate();return d};this.groupBy=
function(b,c,e,f){return!d._hasData()?null:d._getGroup(a,b,c,e,f)};this.orderBy=function(a,c,e,f){c=null==c?"a":b.trim(c.toString().toLowerCase());null==e&&(e="text");null==f&&(f="Y-m-d");if("desc"==c||"descending"==c)c="d";if("asc"==c||"ascending"==c)c="a";x.push({by:a,dir:c,type:e,datefmt:f});return d};return d}(f,null)},getMethod:function(f){return this.getAccessor(b.fn.jqGrid,f)},extend:function(f){b.extend(b.fn.jqGrid,f);this.no_legacy_api||b.fn.extend(f)}});b.fn.jqGrid=function(f){if("string"===
typeof f){var e=b.jgrid.getMethod(f);if(!e)throw"jqGrid - No such method: "+f;var c=b.makeArray(arguments).slice(1);return e.apply(this,c)}return this.each(function(){if(!this.grid){var d=b.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,
lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,
tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",
recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",
displayField:[]},ignoreCase:!1,cmTemplate:{},idPrefix:""},b.jgrid.defaults,f||{}),a=this,c={headers:[],cols:[],footers:[],dragStart:function(c,e,f){this.resizing={idx:c,startX:e.clientX,sOL:f[0]};this.hDiv.style.cursor="col-resize";this.curGbox=b("#rs_m"+b.jgrid.jqID(d.id),"#gbox_"+b.jgrid.jqID(d.id));this.curGbox.css({display:"block",left:f[0],top:f[1],height:f[2]});b(a).triggerHandler("jqGridResizeStart",[e,c]);b.isFunction(d.resizeStart)&&d.resizeStart.call(this,e,c);document.onselectstart=function(){return!1}},
dragMove:function(a){if(this.resizing){var b=a.clientX-this.resizing.startX,a=this.headers[this.resizing.idx],c="ltr"===d.direction?a.width+b:a.width-b,e;33<c&&(this.curGbox.css({left:this.resizing.sOL+b}),!0===d.forceFit?(e=this.headers[this.resizing.idx+d.nv],b="ltr"===d.direction?e.width-b:e.width+b,33<b&&(a.newWidth=c,e.newWidth=b)):(this.newWidth="ltr"===d.direction?d.tblwidth+b:d.tblwidth-b,a.newWidth=c))}},dragEnd:function(){this.hDiv.style.cursor="default";if(this.resizing){var c=this.resizing.idx,
e=this.headers[c].newWidth||this.headers[c].width,e=parseInt(e,10);this.resizing=!1;b("#rs_m"+b.jgrid.jqID(d.id)).css("display","none");d.colModel[c].width=e;this.headers[c].width=e;this.headers[c].el.style.width=e+"px";this.cols[c].style.width=e+"px";0<this.footers.length&&(this.footers[c].style.width=e+"px");!0===d.forceFit?(e=this.headers[c+d.nv].newWidth||this.headers[c+d.nv].width,this.headers[c+d.nv].width=e,this.headers[c+d.nv].el.style.width=e+"px",this.cols[c+d.nv].style.width=e+"px",0<this.footers.length&&
(this.footers[c+d.nv].style.width=e+"px"),d.colModel[c+d.nv].width=e):(d.tblwidth=this.newWidth||d.tblwidth,b("table:first",this.bDiv).css("width",d.tblwidth+"px"),b("table:first",this.hDiv).css("width",d.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,d.footerrow&&(b("table:first",this.sDiv).css("width",d.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft));b(a).triggerHandler("jqGridResizeStop",[e,c]);b.isFunction(d.resizeStop)&&d.resizeStop.call(this,e,c)}this.curGbox=null;document.onselectstart=
function(){return!0}},populateVisible:function(){c.timer&&clearTimeout(c.timer);c.timer=null;var a=b(c.bDiv).height();if(a){var e=b("table:first",c.bDiv),f,K;if(e[0].rows.length)try{K=(f=e[0].rows[1])?b(f).outerHeight()||c.prevRowHeight:c.prevRowHeight}catch(h){K=c.prevRowHeight}if(K){c.prevRowHeight=K;var g=d.rowNum;f=c.scrollTop=c.bDiv.scrollTop;var j=Math.round(e.position().top)-f,k=j+e.height();K*=g;var z,F,q;if(k<a&&0>=j&&(void 0===d.lastpage||parseInt((k+f+K-1)/K,10)<=d.lastpage))F=parseInt((a-
k+K-1)/K,10),0<=k||2>F||!0===d.scroll?(z=Math.round((k+f)/K)+1,j=-1):j=1;0<j&&(z=parseInt(f/K,10)+1,F=parseInt((f+a)/K,10)+2-z,q=!0);if(F&&(!d.lastpage||!(z>d.lastpage||1==d.lastpage||z===d.page&&z===d.lastpage)))c.hDiv.loading?c.timer=setTimeout(c.populateVisible,d.scrollTimeout):(d.page=z,q&&(c.selectionPreserver(e[0]),c.emptyRows.call(e[0],!1,!1)),c.populate(F))}}},scrollGrid:function(a){if(d.scroll){var b=c.bDiv.scrollTop;void 0===c.scrollTop&&(c.scrollTop=0);b!=c.scrollTop&&(c.scrollTop=b,c.timer&&
clearTimeout(c.timer),c.timer=setTimeout(c.populateVisible,d.scrollTimeout))}c.hDiv.scrollLeft=c.bDiv.scrollLeft;d.footerrow&&(c.sDiv.scrollLeft=c.bDiv.scrollLeft);a&&a.stopPropagation()},selectionPreserver:function(a){var c=a.p,e=c.selrow,d=c.selarrrow?b.makeArray(c.selarrrow):null,f=a.grid.bDiv.scrollLeft,h=function(){var g;c.selrow=null;c.selarrrow=[];if(c.multiselect&&d&&0<d.length)for(g=0;g<d.length;g++)d[g]!=e&&b(a).jqGrid("setSelection",d[g],!1,null);e&&b(a).jqGrid("setSelection",e,!1,null);
a.grid.bDiv.scrollLeft=f;b(a).unbind(".selectionPreserver",h)};b(a).bind("jqGridGridComplete.selectionPreserver",h)}};if("TABLE"!=this.tagName.toUpperCase())alert("Element is not a table");else if(void 0!==document.documentMode&&5>=document.documentMode)alert("Grid can not be used in this ('quirks') mode!");else{b(this).empty().attr("tabindex","0");this.p=d;this.p.useProp=!!b.fn.prop;var e,g;if(0===this.p.colNames.length)for(e=0;e<this.p.colModel.length;e++)this.p.colNames[e]=this.p.colModel[e].label||
this.p.colModel[e].name;if(this.p.colNames.length!==this.p.colModel.length)alert(b.jgrid.errors.model);else{var j=b("<div class='ui-jqgrid-view'></div>"),k,m=b.browser.msie?!0:!1;a.p.direction=b.trim(a.p.direction.toLowerCase());-1==b.inArray(a.p.direction,["ltr","rtl"])&&(a.p.direction="ltr");g=a.p.direction;b(j).insertBefore(this);b(this).appendTo(j).removeClass("scroll");var n=b("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");b(n).insertBefore(j).attr({id:"gbox_"+this.id,
dir:g});b(j).appendTo(n).attr("id","gview_"+this.id);k=m&&6>=b.browser.version?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':"";b("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").append(k).insertBefore(j);b("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(j);b(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid",
"aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var s=function(a,b){a=parseInt(a,10);return isNaN(a)?b||0:a},l=function(e,d,f,h,g,j){var k=a.p.colModel[e],ja=k.align,z='style="',F=k.classes,q=k.name,o=[];ja&&(z=z+("text-align:"+ja+";"));k.hidden===true&&(z=z+"display:none;");if(d===0)z=z+("width: "+c.headers[e].width+"px;");else if(k.cellattr&&b.isFunction(k.cellattr))if((e=k.cellattr.call(a,g,f,h,k,j))&&typeof e==="string"){e=e.replace(/style/i,"style").replace(/title/i,
"title");if(e.indexOf("title")>-1)k.title=false;e.indexOf("class")>-1&&(F=void 0);o=e.split("style");if(o.length===2){o[1]=b.trim(o[1].replace("=",""));if(o[1].indexOf("'")===0||o[1].indexOf('"')===0)o[1]=o[1].substring(1);z=z+o[1].replace(/'/gi,'"')}else z=z+'"'}if(!o.length){o[0]="";z=z+'"'}z=z+((F!==void 0?' class="'+F+'"':"")+(k.title&&f?' title="'+b.jgrid.stripHtml(f)+'"':""));z=z+(' aria-describedby="'+a.p.id+"_"+q+'"');return z+o[0]},x=function(c){return c==null||c===""?"&#160;":a.p.autoencode?
b.jgrid.htmlEncode(c):""+c},v=function(c,e,d,f,h){var g=a.p.colModel[d];if(g.formatter!==void 0){c=""+a.p.idPrefix!==""?b.jgrid.stripPref(a.p.idPrefix,c):c;c={rowId:c,colModel:g,gid:a.p.id,pos:d};e=b.isFunction(g.formatter)?g.formatter.call(a,e,c,f,h):b.fmatter?b.fn.fmatter.call(a,g.formatter,e,c,f,h):x(e)}else e=x(e);return e},Q=function(a,b,c,e,d,f){b=v(a,b,c,d,"add");return'<td role="gridcell" '+l(c,e,b,d,a,f)+">"+b+"</td>"},I=function(b,c,e,d){d='<input role="checkbox" type="checkbox" id="jqg_'+
a.p.id+"_"+b+'" class="cbox" name="jqg_'+a.p.id+"_"+b+'"'+(d?'checked="checked"':"")+"/>";return'<td role="gridcell" '+l(c,e,"",null,b,true)+">"+d+"</td>"},Z=function(a,b,c,e){c=(parseInt(c,10)-1)*parseInt(e,10)+1+b;return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+l(a,b,c,null,b,true)+">"+c+"</td>"},W=function(b){var c,e=[],d=0,f;for(f=0;f<a.p.colModel.length;f++){c=a.p.colModel[f];if(c.name!=="cb"&&c.name!=="subgrid"&&c.name!=="rn"){e[d]=b=="local"?c.name:b=="xml"||b==="xmlstring"?
c.xmlmap||c.name:c.jsonmap||c.name;d++}}return e},X=function(c){var e=a.p.remapColumns;if(!e||!e.length)e=b.map(a.p.colModel,function(a,b){return b});c&&(e=b.map(e,function(a){return a<c?null:a-c}));return e},R=function(a,c){var e;if(this.p.deepempty)b(this.rows).slice(1).remove();else{e=this.rows.length>0?this.rows[0]:null;b(this.firstChild).empty().append(e)}if(a&&this.p.scroll){b(this.grid.bDiv.firstChild).css({height:"auto"});b(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"});
if(this.grid.bDiv.scrollTop!==0)this.grid.bDiv.scrollTop=0}if(c===true&&this.p.treeGrid){this.p.data=[];this.p._index={}}},N=function(){var c=a.p.data.length,e,d,f;e=a.p.rownumbers===true?1:0;d=a.p.multiselect===true?1:0;f=a.p.subGrid===true?1:0;e=a.p.keyIndex===false||a.p.loadonce===true?a.p.localReader.id:a.p.colModel[a.p.keyIndex+d+f+e].name;for(d=0;d<c;d++){f=b.jgrid.getAccessor(a.p.data[d],e);f===void 0&&(f=""+(d+1));a.p._index[f]=d}},O=function(c,e,d,f,g,h){var i="-1",j="",k,e=e?"display:none;":
"",d="ui-widget-content jqgrow ui-row-"+a.p.direction+d+(h?" ui-state-highlight":""),f=b.isFunction(a.p.rowattr)?a.p.rowattr.call(a,f,g):{};if(!b.isEmptyObject(f)){if(f.hasOwnProperty("id")){c=f.id;delete f.id}if(f.hasOwnProperty("tabindex")){i=f.tabindex;delete f.tabindex}if(f.hasOwnProperty("style")){e=e+f.style;delete f.style}if(f.hasOwnProperty("class")){d=d+(" "+f["class"]);delete f["class"]}try{delete f.role}catch(F){}for(k in f)f.hasOwnProperty(k)&&(j=j+(" "+k+"="+f[k]))}return'<tr role="row" id="'+
c+'" tabindex="'+i+'" class="'+d+'"'+(e===""?"":' style="'+e+'"')+j+">"},$=function(c,e,d,f,g){var h=new Date,i=a.p.datatype!="local"&&a.p.loadonce||a.p.datatype=="xmlstring",j=a.p.xmlReader,k=a.p.datatype=="local"?"local":"xml";if(i){a.p.data=[];a.p._index={};a.p.localReader.id="_id_"}a.p.reccount=0;if(b.isXMLDoc(c)){if(a.p.treeANode===-1&&!a.p.scroll){R.call(a,false,true);d=1}else d=d>1?d:1;var F=b(a),q,o,m=0,r,D=a.p.multiselect===true?1:0,n=0,s,l=a.p.rownumbers===true?1:0,v,p=[],y,B={},t,w,G=[],
x=a.p.altRows===true?" "+a.p.altclass:"",A;if(a.p.subGrid===true){n=1;s=b.jgrid.getMethod("addSubGridCell")}j.repeatitems||(p=W(k));v=a.p.keyIndex===false?b.isFunction(j.id)?j.id.call(a,c):j.id:a.p.keyIndex;if(p.length>0&&!isNaN(v)){a.p.remapColumns&&a.p.remapColumns.length&&(v=b.inArray(v,a.p.remapColumns));v=p[v]}k=(""+v).indexOf("[")===-1?p.length?function(a,c){return b(v,a).text()||c}:function(a,c){return b(j.cell,a).eq(v).text()||c}:function(a,b){return a.getAttribute(v.replace(/[\[\]]/g,""))||
b};a.p.userData={};a.p.page=b.jgrid.getXmlData(c,j.page)||a.p.page||0;a.p.lastpage=b.jgrid.getXmlData(c,j.total);if(a.p.lastpage===void 0)a.p.lastpage=1;a.p.records=b.jgrid.getXmlData(c,j.records)||0;b.isFunction(j.userdata)?a.p.userData=j.userdata.call(a,c)||{}:b.jgrid.getXmlData(c,j.userdata,true).each(function(){a.p.userData[this.getAttribute("name")]=b(this).text()});c=b.jgrid.getXmlData(c,j.root,true);(c=b.jgrid.getXmlData(c,j.row,true))||(c=[]);var V=c.length,u=0,C=[],E=parseInt(a.p.rowNum,
10),H=a.p.scroll?b.jgrid.randId():1;if(V>0&&a.p.page<=0)a.p.page=1;if(c&&V){g&&(E=E*(g+1));var g=b.isFunction(a.p.afterInsertRow),L=false,J;if(a.p.grouping){L=a.p.groupingView.groupCollapse===true;J=b.jgrid.getMethod("groupingPrepare")}for(;u<V;){t=c[u];w=k(t,H+u);w=a.p.idPrefix+w;q=d===0?0:d+1;A=(q+u)%2==1?x:"";var M=G.length;G.push("");l&&G.push(Z(0,u,a.p.page,a.p.rowNum));D&&G.push(I(w,l,u,false));n&&G.push(s.call(F,D+l,u+d));if(j.repeatitems){y||(y=X(D+n+l));var N=b.jgrid.getXmlData(t,j.cell,
true);b.each(y,function(b){var c=N[this];if(!c)return false;r=c.textContent||c.text;B[a.p.colModel[b+D+n+l].name]=r;G.push(Q(w,r,b+D+n+l,u+d,t,B))})}else for(q=0;q<p.length;q++){r=b.jgrid.getXmlData(t,p[q]);B[a.p.colModel[q+D+n+l].name]=r;G.push(Q(w,r,q+D+n+l,u+d,t,B))}G[M]=O(w,L,A,B,t,false);G.push("</tr>");if(a.p.grouping){C=J.call(F,G,C,B,u);G=[]}if(i||a.p.treeGrid===true){B._id_=w;a.p.data.push(B);a.p._index[w]=a.p.data.length-1}if(a.p.gridview===false){b("tbody:first",e).append(G.join(""));F.triggerHandler("jqGridAfterInsertRow",
[w,B,t]);g&&a.p.afterInsertRow.call(a,w,B,t);G=[]}B={};m++;u++;if(m==E)break}}if(a.p.gridview===true){o=a.p.treeANode>-1?a.p.treeANode:0;if(a.p.grouping){F.jqGrid("groupingRender",C,a.p.colModel.length);C=null}else a.p.treeGrid===true&&o>0?b(a.rows[o]).after(G.join("")):b("tbody:first",e).append(G.join(""))}if(a.p.subGrid===true)try{F.jqGrid("addSubGrid",D+l)}catch(S){}a.p.totaltime=new Date-h;if(m>0&&a.p.records===0)a.p.records=V;G=null;if(a.p.treeGrid===true)try{F.jqGrid("setTreeNode",o+1,m+o+1)}catch(T){}if(!a.p.treeGrid&&
!a.p.scroll)a.grid.bDiv.scrollTop=0;a.p.reccount=m;a.p.treeANode=-1;a.p.userDataOnFooter&&F.jqGrid("footerData","set",a.p.userData,true);if(i){a.p.records=V;a.p.lastpage=Math.ceil(V/E)}f||a.updatepager(false,true);if(i)for(;m<V;){t=c[m];w=k(t,m+H);w=a.p.idPrefix+w;if(j.repeatitems){y||(y=X(D+n+l));var P=b.jgrid.getXmlData(t,j.cell,true);b.each(y,function(b){var c=P[this];if(!c)return false;r=c.textContent||c.text;B[a.p.colModel[b+D+n+l].name]=r})}else for(q=0;q<p.length;q++){r=b.jgrid.getXmlData(t,
p[q]);B[a.p.colModel[q+D+n+l].name]=r}B._id_=w;a.p.data.push(B);a.p._index[w]=a.p.data.length-1;B={};m++}}},aa=function(c,e,d,f,g){e=new Date;if(c){if(a.p.treeANode===-1&&!a.p.scroll){R.call(a,false,true);d=1}else d=d>1?d:1;var h,i,j=a.p.datatype!="local"&&a.p.loadonce||a.p.datatype=="jsonstring";if(j){a.p.data=[];a.p._index={};a.p.localReader.id="_id_"}a.p.reccount=0;if(a.p.datatype=="local"){h=a.p.localReader;i="local"}else{h=a.p.jsonReader;i="json"}var k=b(a),m=0,q,o,n=[],r,D=a.p.multiselect?1:
0,l=0,s,v=a.p.rownumbers===true?1:0,p,u,y={},B,t,w=[],G=a.p.altRows===true?" "+a.p.altclass:"",x;a.p.page=b.jgrid.getAccessor(c,h.page)||a.p.page||0;p=b.jgrid.getAccessor(c,h.total);if(a.p.subGrid===true){l=1;s=b.jgrid.getMethod("addSubGridCell")}a.p.lastpage=p===void 0?1:p;a.p.records=b.jgrid.getAccessor(c,h.records)||0;a.p.userData=b.jgrid.getAccessor(c,h.userdata)||{};h.repeatitems||(r=n=W(i));i=a.p.keyIndex===false?b.isFunction(h.id)?h.id.call(a,c):h.id:a.p.keyIndex;if(n.length>0&&!isNaN(i)){a.p.remapColumns&&
a.p.remapColumns.length&&(i=b.inArray(i,a.p.remapColumns));i=n[i]}(u=b.jgrid.getAccessor(c,h.root))||(u=[]);p=u.length;c=0;if(p>0&&a.p.page<=0)a.p.page=1;var A=parseInt(a.p.rowNum,10),C=a.p.scroll?b.jgrid.randId():1,E=false,H;g&&(A=A*(g+1));a.p.datatype==="local"&&!a.p.deselectAfterSort&&(E=true);var L=b.isFunction(a.p.afterInsertRow),J=[],M=false,N;if(a.p.grouping){M=a.p.groupingView.groupCollapse===true;N=b.jgrid.getMethod("groupingPrepare")}for(;c<p;){g=u[c];t=b.jgrid.getAccessor(g,i);if(t===void 0){t=
C+c;if(n.length===0&&h.cell){q=b.jgrid.getAccessor(g,h.cell);t=q!==void 0?q[i]||t:t}}t=a.p.idPrefix+t;q=d===1?0:d;x=(q+c)%2==1?G:"";E&&(H=a.p.multiselect?b.inArray(t,a.p.selarrrow)!==-1:t===a.p.selrow);var P=w.length;w.push("");v&&w.push(Z(0,c,a.p.page,a.p.rowNum));D&&w.push(I(t,v,c,H));l&&w.push(s.call(k,D+v,c+d));if(h.repeatitems){h.cell&&(g=b.jgrid.getAccessor(g,h.cell));r||(r=X(D+l+v))}for(o=0;o<r.length;o++){q=b.jgrid.getAccessor(g,r[o]);y[a.p.colModel[o+D+l+v].name]=q;w.push(Q(t,q,o+D+l+v,c+
d,g,y))}w[P]=O(t,M,x,y,g,H);w.push("</tr>");if(a.p.grouping){J=N.call(k,w,J,y,c);w=[]}if(j||a.p.treeGrid===true){y._id_=t;a.p.data.push(y);a.p._index[t]=a.p.data.length-1}if(a.p.gridview===false){b("#"+b.jgrid.jqID(a.p.id)+" tbody:first").append(w.join(""));k.triggerHandler("jqGridAfterInsertRow",[t,y,g]);L&&a.p.afterInsertRow.call(a,t,y,g);w=[]}y={};m++;c++;if(m==A)break}if(a.p.gridview===true){B=a.p.treeANode>-1?a.p.treeANode:0;a.p.grouping?k.jqGrid("groupingRender",J,a.p.colModel.length):a.p.treeGrid===
true&&B>0?b(a.rows[B]).after(w.join("")):b("#"+b.jgrid.jqID(a.p.id)+" tbody:first").append(w.join(""))}if(a.p.subGrid===true)try{k.jqGrid("addSubGrid",D+v)}catch(S){}a.p.totaltime=new Date-e;if(m>0&&a.p.records===0)a.p.records=p;if(a.p.treeGrid===true)try{k.jqGrid("setTreeNode",B+1,m+B+1)}catch(T){}if(!a.p.treeGrid&&!a.p.scroll)a.grid.bDiv.scrollTop=0;a.p.reccount=m;a.p.treeANode=-1;a.p.userDataOnFooter&&k.jqGrid("footerData","set",a.p.userData,true);if(j){a.p.records=p;a.p.lastpage=Math.ceil(p/A)}f||
a.updatepager(false,true);if(j)for(;m<p&&u[m];){g=u[m];t=b.jgrid.getAccessor(g,i);if(t===void 0){t=C+m;n.length===0&&h.cell&&(t=b.jgrid.getAccessor(g,h.cell)[i]||t)}if(g){t=a.p.idPrefix+t;if(h.repeatitems){h.cell&&(g=b.jgrid.getAccessor(g,h.cell));r||(r=X(D+l+v))}for(o=0;o<r.length;o++){q=b.jgrid.getAccessor(g,r[o]);y[a.p.colModel[o+D+l+v].name]=q}y._id_=t;a.p.data.push(y);a.p._index[t]=a.p.data.length-1;y={}}m++}}},na=function(){function c(e){var d=0,g,h,i,j,U;if(e.groups!=null){(h=e.groups.length&&
e.groupOp.toString().toUpperCase()==="OR")&&r.orBegin();for(g=0;g<e.groups.length;g++){d>0&&h&&r.or();try{c(e.groups[g])}catch(k){alert(k)}d++}h&&r.orEnd()}if(e.rules!=null){if(d>0){h=r.select();r=b.jgrid.from(h);a.p.ignoreCase&&(r=r.ignoreCase())}try{(i=e.rules.length&&e.groupOp.toString().toUpperCase()==="OR")&&r.orBegin();for(g=0;g<e.rules.length;g++){U=e.rules[g];j=e.groupOp.toString().toUpperCase();if(n[U.op]&&U.field){d>0&&j&&j==="OR"&&(r=r.or());r=n[U.op](r,j)(U.field,U.data,f[U.field])}d++}i&&
r.orEnd()}catch(oa){alert(oa)}}}var e,d=false,f={},g=[],h=[],i,j,k;if(b.isArray(a.p.data)){var m=a.p.grouping?a.p.groupingView:false,q,o;b.each(a.p.colModel,function(){j=this.sorttype||"text";if(j=="date"||j=="datetime"){if(this.formatter&&typeof this.formatter==="string"&&this.formatter=="date"){i=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:b.jgrid.formatter.date.srcformat;k=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:b.jgrid.formatter.date.newformat}else i=
k=this.datefmt||"Y-m-d";f[this.name]={stype:j,srcfmt:i,newfmt:k}}else f[this.name]={stype:j,srcfmt:"",newfmt:""};if(a.p.grouping){o=0;for(q=m.groupField.length;o<q;o++)if(this.name==m.groupField[o]){var c=this.name;if(this.index)c=this.index;g[o]=f[c];h[o]=c}}if(!d&&(this.index==a.p.sortname||this.name==a.p.sortname)){e=this.name;d=true}});if(a.p.treeGrid)b(a).jqGrid("SortTree",e,a.p.sortorder,f[e].stype,f[e].srcfmt);else{var n={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},
le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return b==="OR"?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return b==="OR"?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return b==="OR"?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return b==="OR"?a.orNot().equals:a.andNot().equals},
"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return b==="OR"?a.orNot().isNull:a.andNot().isNull}},r=b.jgrid.from(a.p.data);a.p.ignoreCase&&(r=r.ignoreCase());if(a.p.search===true){var l=a.p.postData.filters;if(l){typeof l==="string"&&(l=b.jgrid.parse(l));c(l)}else try{r=n[a.p.postData.searchOper](r)(a.p.postData.searchField,a.p.postData.searchString,f[a.p.postData.searchField])}catch(v){}}if(a.p.grouping)for(o=0;o<q;o++)r.orderBy(h[o],m.groupOrder[o],g[o].stype,
g[o].srcfmt);e&&a.p.sortorder&&d&&(a.p.sortorder.toUpperCase()=="DESC"?r.orderBy(a.p.sortname,"d",f[e].stype,f[e].srcfmt):r.orderBy(a.p.sortname,"a",f[e].stype,f[e].srcfmt));var l=r.select(),p=parseInt(a.p.rowNum,10),s=l.length,u=parseInt(a.p.page,10),x=Math.ceil(s/p),y={},l=l.slice((u-1)*p,u*p),f=r=null;y[a.p.localReader.total]=x;y[a.p.localReader.page]=u;y[a.p.localReader.records]=s;y[a.p.localReader.root]=l;y[a.p.localReader.userdata]=a.p.userData;l=null;return y}}},ca=function(){a.grid.hDiv.loading=
true;if(!a.p.hiddengrid)switch(a.p.loadui){case "enable":b("#load_"+b.jgrid.jqID(a.p.id)).show();break;case "block":b("#lui_"+b.jgrid.jqID(a.p.id)).show();b("#load_"+b.jgrid.jqID(a.p.id)).show()}},S=function(){a.grid.hDiv.loading=false;switch(a.p.loadui){case "enable":b("#load_"+b.jgrid.jqID(a.p.id)).hide();break;case "block":b("#lui_"+b.jgrid.jqID(a.p.id)).hide();b("#load_"+b.jgrid.jqID(a.p.id)).hide()}},L=function(c){if(!a.grid.hDiv.loading){var e=a.p.scroll&&c===false,d={},f,g=a.p.prmNames;if(a.p.page<=
0)a.p.page=1;if(g.search!==null)d[g.search]=a.p.search;g.nd!==null&&(d[g.nd]=(new Date).getTime());if(g.rows!==null)d[g.rows]=a.p.rowNum;if(g.page!==null)d[g.page]=a.p.page;if(g.sort!==null)d[g.sort]=a.p.sortname;if(g.order!==null)d[g.order]=a.p.sortorder;if(a.p.rowTotal!==null&&g.totalrows!==null)d[g.totalrows]=a.p.rowTotal;var h=b.isFunction(a.p.loadComplete),i=h?a.p.loadComplete:null,j=0,c=c||1;if(c>1)if(g.npage!==null){d[g.npage]=c;j=c-1;c=1}else i=function(b){a.p.page++;a.grid.hDiv.loading=false;
h&&a.p.loadComplete.cal